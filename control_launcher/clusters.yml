# CECI Clusters relevant information, see http://www.ceci-hpc.be/clusters.html for more details 
# This is a YAML file, see https://yaml.org/ for more information

# ========================================================= #
#                        Shared Keys                        #
# ========================================================= #

# Those keys are shared between the clusters, they will be used for information for which the cluster doesn't matter

shared: 
  profiles:
    qoctra: &qoctra
      parsing_function: qchem_tddft
      transition_function: proj_ground_to_triplet
      data_dir:
        mime_file: mime
        energies_file: energies
        mat_et0: mat_et0                      # corresponds to the eigenvectors matrix of the MIME diagonalization
        mat_0te: mat_0te                      # corresponds to the eigenvectors transpose matrix of the MIME diagonalization
        momdip_zero: momdip_0
        momdip_eigen: momdip_e
      rendering_function: qoctra_render
      jinja_templates:
        parameters_file: param.nml.jinja             # The rendered file will be named param_<target>.nml, where <target> is the state label corresponding to the projector that will be used
        job_script: qoctra_job.sh.jinja                    
      job_scales:
        - 
          label: unique
          scale_limit: 50
          time: 1-00:00:00
          memory: 2000 # in MB

# ========================================================= #
#                        UCL Clusters                       #
# ========================================================= #

lemaitre3:
# address lemaitre3.cism.ucl.ac.be
  submit_command: sbatch
  profiles:
    qoctra:
      <<: *qoctra
      set_env:
        - module --force purge
        - module load releases/2019b
        - module load OpenBLAS/0.3.7-GCC-8.3.0
      command: gfortran -lopenblas -O3 -ffast-math -funroll-loops -fwhole-program -flto -fexternal-blas -fdefault-integer-8 -m64

# ========================================================= #
#                      ULiÃ¨ge Clusters                      #
# ========================================================= #

nic4:
# address nic4.segi.ulg.ac.be
  submit_command: sbatch
  profiles:
    qoctra:
      <<: *qoctra
      set_env:
        - module --force purge
        - module load EasyBuild
        - module load OpenBLAS/0.3.7-GCC-8.3.0
      command: gfortran -lopenblas -O3 -ffast-math -funroll-loops -fwhole-program -flto -fexternal-blas -fdefault-integer-8 -m64